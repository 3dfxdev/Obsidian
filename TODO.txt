
OBLIGE TODO
===========

Current Work
------------


>>>  big_junction hallways : use 'mini_halls' instead of a hallway group

     also: some control over them
     (a) disable (or prefer) certain height diffs
     (b) disable doors (since big junction has a door there)
         [extends to doors at room/mini_hall connection]
     (c) can provide a skin with 'floor', 'wall' and/or 'ceil' materials
     (d) can specify other keywords which must be preset or absent in the skin


>>>  stairs / lift : standardize height stuff

     _stair_kind = "short" / "medium" / "tall" / "lift"

     z_ranges = { {128,0,"?height"}, ... }  in prefab to make it reach target height


DONE:  Sky Halls: only build the floor bits in prefab -- do sky separately


++  think about how "mini halls" and "groups" interact

    --> groups only apply to connected hallways (2+ sections)
    
    --> mini_halls connect two rooms, or a room and big junction

    i.e. they are mutually exclusive


+  mini hall room connection control:
      _outdoor = 0 / 1
      _building = 0 / 1
      _cave = 0 / 1


3D Areas:

!!!  have 'z1_cap' and 'z2_cap' fields in a chunk, ensure all
     prefabs use it -- perhaps: Trans.set_cap(), Trans.clear_cap()


-  REVIEW: quadratic monster formula : bad for "full" game


PATTERN LOGIC : skip patterns if (a) multiple levels,
                                 (b) 2+ chunks in that grid and all of them would
                                     end up in the same vhr
                              OR (b2) one chunk in grid but ends up at same vhr
                                      as all previously assigned chunks in room


Prefab system:

+  automatic repeating of prefabs
   x_repeat=192 : means we require: x_size / N >= x_repeat (for highest N)

   do it in apply_skins, after Fab_composition
   copy (and offset) all the brushes, entities and (ideally) models
   also: if x_ranges (etc), expand that by N times too

   WISH: the ability to split entities -- e.g. player closets

   WISH: allow it to happen with prefab composition too



-  fix monsters stuck in doors / corners of chunks

+  fix fat doors (x_ranges) : QUAKE


-----------------------------------------------------------------


Release Goals
=============

>>  windows

   -  must decide after all heights are done

>>  pictures in walls

>>  secret niches

-  normal doors

-  ceiling prefabs (esp. light fixtures)

-  floor prefabs (crates are great, cages are all the rage)

>>  better exits

Closets:
+  allow closet to be smaller than chunk, fill extra space with void

