
V4 TODO
=======

Current Work
------------

LAYOUT : a less recursive algorithm, once we have decided the floor
         fab and where to place it, its heights are known and fixed.

         i.e. do heights on-the-fly instead of at the end.

         It should be close to entry walk, to leave room in the rest
         of the room for further floor fabs.


DONE:  item clusters


!!!  clipping solid brushes to floor space

!!   "lava" brush kind


3D floors : FLOOR.z_low and z_high values, also is_layer

>>  forget the "pick minimal, make bigger later " idea
    use room size to get a minimum and maximum size
    
allow walks to appear in _multiple_ spaces, assign them round robin
(rand.shuffle walks earlier) ---> for 3D floors


CAGES:

+  need to select monsters which CAN FIT in the spots
   (allow ones in room_palette or outside global_palette if necessary)

-  mark monster as caged for fight simulator


!!  skin lists, not skin1/sk2/yada

!!  u1..v2 for texture coords on brushes

!!  remove flavored brushes :-(
    (at least from the CSG code, do "hole" brushes for floor spaces
     and ceiling spaces)


-  fix inner/outer tex on door and window prefabs

+  in a large (multi-section) room, if any section has no "events"
   (a connection or switch or key or major item) then give it a
   nice pickup item (etc) or at least a walk space.

+  implement "nosplit" areas, which are like "walk" areas in that
   they must not be split, but which aren't considered to be
   player destinations.

+  fix items and monsters on fences / staircases


!!  EDGE.max_deep = (width - 128) / 2   [Including any walk/air area]

    For 2  seed wide room, thickest door is  64 units + 64 walk
    For 3  seed wide room, thickest door is 160 units + 64 walk
    For 4+ seed wide room, thickest door is 256 units + 64 walk


///////////////////////

-  support floor prefabs in non-monotonic rooms
   
   -  connect monotonic spaces with walk brushes
   -  do space containing entry walk, then all ones connnected to that

-  consider allowing "minor" wall prefabs to be decided during/after
   floor fabbing.  In particular to allow a floor prefab to supply
   a lift or staircase against the wall (in even in a corner),
   perhaps also for liquidy stuff.

   YES


Idea: "flush depth" of walls



Release Goals
-------------

Games:

DOOM and QUAKE only


Layout:

+  rooms with multiple layers

+  corner prefabs
       - normal
       - curved
       - big diagonal
       - torch in niche
       - jutting out torch 
       - picture

+  wall prefabs:
       - cage
       - monster closet
       - secret closet
       - torch
       - picture
       - teleporter
       - item niche
 
+  middle prefabs:
       - cage
       - pillar
       - item pedestal
       - crates
       - fountain (outdoor)
       - a couple techy ones

+  floor prefabs:
       - stairs
       - lift
       - L shape
       - U shape
       - bridge

+  light brushes for DOOM, clipped to room:
   (a) have group of rectangles to clip to
   (b) clip light brush to each rectangle

-  get caves working again

?  Cross-Overs

?  small exits

