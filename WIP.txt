
WORK IN PROGRESS
================



Nice items : generally less (esp. armor -- one per zone)


Weapon choice :

!!!  when game_along >= 0.3, then ALWAYS have at least one "big" weapon
     and have before the last zone (or if one zone, before last quest)

     and when game_along >= 0.5, GENERALLY have at least two big weapons,
     and OFTEN have all three.

     ALWAYS have at least one "small" weapon


Weapon count: base it both on size of level and 'game_along' value
              (e.g. on regular, have 2 at start and 4/5 by end)



+ 'level' field for NICE_ITEMS -- especially invulnerability which
   seems to appear quite late in TNT and Plutonia
   (also megasphere, at least for secrets, kinda too much on early levels)



Closets
-------

+  really want to add them _AFTER_ large traps/cages have been
   added (and after outdoor borders too)



Sinks
-----

+  decide them fairly early, e.g. Room_add_sinks() -- or in layout code
   
-  add "light" to ceilings with a light texture

-  detect the "whole seed" part early (easy: all corners are inner points)
   and [for floors only] give the seed a new floor_h/floor_mat, and honor
   that floor_h when adding importants or decorative prefabs.

-  monsters: should not straddle the line between normal floor and sink
   [ draw that line in spot code ] and ideally would have correct 'Z'

-  probably should mark seeds (or whatever) so know where can place
   decorative prefabs.



Monster defs : min weapon level needed [esp. for Vile/Bosses ]
-  player weapon in three states : no have / getting / have it
   ("getting" applies to whole zone)
   when "getting" it, allow monster but reduce prob/density
   (allow monster for guard)

(a) Support min_weapon and weap_needed for GUARD monsters


Porches :
+  one per room

+  fix missing posts (where touch edge of map)

+  floor MUST be >= nearby floors (ignoring void / walled junctions)
   [ do it via floor-heights algorithm)

-  experiment with railings instead of posts (want #conns >= 2)

-  indoors or dark outdoors : light fittings



Texturing:

SORT OUT : where 'facade_mat' is stored, how is accessed
  - basically, each indoor room (cave or building) has a facade_mat
    (defaulting to ZONE.building_facade or ZONE.cave_mat)

  - for outdoor<-->outdoor, use the fence texture (ZONE.fence_mat)

  - for void, use area 'kind'

-  texturing on door prefabs (for HELL, URBAN themes)


