
WORK IN PROGRESS
================


V5 Layout:

DONE:  implement 'edges' and simpler north/south/east/west 
DONE:  fallback floor/ceil : treat separate from normal floors
DONE:  support all rotations

DONE:  support "room" floors (have ceiling as part of them)
DONE:  sometimes void up 1x1 junctions in rooms
DONE:  multi_match : give a table of reqs (not reqs1/2/3)

DONE:  for floor / ceiling pieces (etc?) : have a "NONE" probability to match skin
DONE:  pick section exit portal AFTER building the prefab
DONE:  create an purely indoor big junction
DONE:  have 'complexity' for floors and ceilings
DONE:  do goal spots with column-with-skull [NOT MONSTER SPOTS]

++  handle 3x1 sections : make a prefab

+  properly test if a prefab fits (esp. with entry portal)

-  check we don't add walls if an edge is fence/solid ('#')

-  support 'anchor_dirs' : floor must have non-room on those sides
   [and the opposite : floor must have room on specified sides]

     perhaps: anchor = "d..x" i.e south is non-room, e/w is room, north don't care
                              and 'd' is for a doorway

+  minor item spots : generate from monster spots (if none in prefab)

-  support 'height' for outdoor floors



!!  get joiners working again

    +  make a keyed joiner (or three)
    +  make a switched joiner (or seven)


!!  fat fences not working??


+  Big junctions:
   -  EITHER make C/T/I versions of Spokey and Circle
        OR   create wall prefabs for them + logic to place it


!!  get cycles working again

    DONE:  update stair_flow() with 'cycle' parameter, use it do
       determine stair pieces (and skip some other logic).

    DONE:  handle 'cycle_excess' : create a step (if abs >= 12)
       (step should be at beginning for downward cycles)

    -  ensure 'is_joiner' is never set for cycles

    -  if a locked door is placed in a joiner, don't create cycles
       for it.


-  FAT_CAGE_PILLAR

