
COMPILING NOTES
===============

The gui/ directory contains the C++ code.

OBLIGE uses makefiles for building:

-  Makefile.local for the Linux binary (local files)
-  Makefile.xming for the Win32 EXE
-  Makefile.unixy for a system-wide Linux install

These makefiles require GNU Make.

I personally compile the Win32 binaries on Linux using what's
called a "Cross Compiler".  The Ubuntu package is "mingw32".
That means I don't need to reboot out of Linux in order to
compile Win32 binaries.  Plus compiling stuff in Windows
always seems to be a major pain in the arse.

Sorry, but if you want to compile the Win32 binary under
Windows then you are on your own.

For a system-wide installation (with Makefile.unixy) you need
to run "make install" as the superuser after building.  Users
can override script and data files by placing a file with the
same name (e.g. "games/doom.lua") in their $HOME/.oblige/ dir.


REQUIRED LIBRARIES
==================

Lua : v5.1.2 (or a later 5.1.x)
  http://www.lua.org/

FLTK (Fast Light Tool Kit) : v1.1.9 (or a later 1.1.x)
  http://www.fltk.org/

glBSP : v2.24
  http://glbsp.sourceforge.net/

glBSP requires: zlib (v1.2.3 or later)
  http://www.gzip.org/zlib

FLTK may require: libpng, jpeglib, zlib
  http://libpng.org/
  http://www.jpeg.org/jpeg/index.html


BUILDING HINTS
==============

Lua-5.1.2:
  (1) Lua must be compiled using C++.  A system-wide C-compiled
      version will not work.

      edit src/Makefile to use 'g++' instead of 'gcc'.

      For Win32 cross-compile, prefix g++, ar and ranlib
      with 'i586-mingw32msvc-'.

  (2) use 'make linux' for Linux,
      use 'make generic' for Win32 cross-compile.


FLTK-1.1.9:
  (1) Linux: /configure --quiet --disable-shared --disable-gl \
             --disable-localjpeg --disable-localzlib --disable-localpng

  (2) Win32 cross-compile:
      (a) copy makefiles/Makefile.mingw --> ./Makefile
      (b) copy makefiles/makeinclude.mingw --> ./makeinclude
      (c) copy makefiles/config.mingw --> ./config.h

      (d) in makeinclude: add 'i586-mingw32msvc-' prefix to
          gcc, g++, ar and ranlib.
      (e) in makeinclude: use '-ruv' instead of 'cr' for ar command.
      (f) in makeinclude: remove $(IMAGELIBS) from LINKFLTKIMG line.
      (g) in makeinclude: comment out .SILENT directive.
      (h) in makeinclude: remove -fno-exceptions

      (i) in config.h: set HAVE_GL and HAVE_GL_GLU to 0.
          comment out HAVE_LIBPNG, HAVE_LIBJPEG, HAVE_LIBZ.
          comment out HAVE_LONG_LONG.

      (j) in Makefile: remove the 'makeinclude' and 'configure' targets.
      (k) in Makefile: remove $(IMAGEDIRS) and 'fluid' from DIRS variable.

