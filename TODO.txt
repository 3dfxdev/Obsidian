
OBLIGE TODO
===========

Current Work
------------

>>>  need a way for a room theme (if not level theme) to say
     "hallways should use (or not) same theme as a connected room"
     (perhaps with priorities? Nah, KISS)

>>>  hallways field in room themes : allow use in caves/outdoor too


Closets:

??  call them "niches" instead ??

?  look bad when used off outdoor room and between two sky_fences,
   make special ones just for this scenario ?

+  EXIT closets

-  SECRET closetes

-  ITEM closets

-  TELEPORTER closets

-  WATER closets

-  GATE closets for Hexen

-  FAKE closets

-  HALL closets

-  MONSTER closets

-  BROOM closets



New Starting Logic

-  three main kinds:

   NICHE  : you begin in a very small room, which is connected to a
            larger room, often by a door.  The closet would only
            contain one or two pickups, e.g. a nice health item and
            (if you're lucky) a weapon.

   CORNER : you begin in the side or corner of a large-ish room,
            with nothing particularly special about the start position
            (except say a pedestal).
            
            There are no monsters which can see you (and usually none you
            can see either).  Again, only a couple of items nearby.
            The starting weapon and ammo will be further away.

   MAYHEM : you begin in the middle of a large room, and often have
            to get moving to fight or avoid the monsters scattered
            around.  There is usually some useful pickups nearby,
            especially a starting weapon. 


Brusher Tool:

DONE: don't add an XY vertex if in the middle of a straight (vert/horiz)
      line and same texture (etc) on each side.

DONE: the first vertex should be one with lowest X (primary criterion)
      and then lowest Y (secondary criterion).

DONE: a method to mark ceiling or floor as not needed
      (allow creating stuff like pedestals which have no ceiling)

+  create a skin table too

-  ensure brushes are convex (all angles <= 180)

DONE: entities : determine Z properly (find sector)

DONE: entities have proper names (player1, medikit, etc...)

DONE: svn:ignore


>>>  stairs for new area code


-  REVIEW: quadratic monster formula : bad for "full" game


+  a _size field for prefabs, format is { long1,deep1, long2,deep2 }
   and can be just { long,deep } for fixed-sized prefabs.


!!  replaceable brushes in prefabs

    +  use this mechanism to place windows and pictures


+  BUG: stairs in cycles can be too low to pass

-  fix fat doors (x_ranges)


-----------------------------------------------------------------


Short-Term Goals
================

+  hallway stuff sorted out

+  theme stuff sorted out

+  windows

   -  must decide after all heights are done



REVIEW: adjuster stuff 

+  fix for ugly sky in outdoor room near a hallway
   (mark those seeds, detect in from_edge pass)

+  fix monsters stuck in doors / corners of chunks

!!?!!  LOCKED DOORS IN A WHOLE SEED/CHUNK

-  review Fence code

-  light_globe and flame entities for QUAKE

-  in prefab skins: '_long = 23' means 2 to 3 seeds wide
                    '_deep = 14' means 1 to 4 seeds deep

-  automatically create bridges over channels

+  automatic repeating of prefabs
   x_repeat=192 : means we require: x_size / N >= x_repeat (for highest N)

   allow it to happen with prefab composition too

-  outdoor wall extender: 64x64 block with torch on top

Idea: for outdoor bordering, have earlier pass to set the facade_mat
      in _all_ unused seeds (grow existing buildings)

+  flat mismatch where hallways meet rooms
   (a) have a step (ideally not flush with wall)
   (b) put a door there
   (c) use floor texture in hallway (only works at one end)

Hallways:

+  double hallways STILL busted (entry from the non-forky end)

+  HALLWAY_GROUPS

      basic =
      {
        Hall_basic_I = 50
        Hall_basic_V = 50
        Hall_basic_S = 50

        Hall_basic_C = 50
        Hall_basic_T = 50
        Hall_basic_P = 50

        Junc_basic_I = 50
        Junc_basic_C = 50
        Junc_basic_T = 50
        Junc_basic_P = 50
      }

      IN LEVEL THEME:

      hall_groups = { basic=50, curvilicious=50 }

WISH: outdoor hallways (wall on one side, fence on other side, sky top)
      [may be easier to convert hallway into a room]
      hard part: ensuring such a hallway stays above nearby room(s)
      hmmm, could also work bordering an _indoor_ room (no sky)

Theme System:

-  proper room themes for QUAKE

-  QUAKE II


-----------------------------------------------------------------


Release Goals
=============

-  pictures in walls

-  diagonal corners

-  secret niches

-  cages (in the void chunks)

-  normal doors

?  system for texture coordinates:

     u1..v2 for texture coords on brushes

     x_offset is alternate term for u1  [u2 can be absent]
     y_offset is alternate term for v1 or v2  (depends on 'peg' flag)

?  better ceilings, some ceiling lights

?  better exits

