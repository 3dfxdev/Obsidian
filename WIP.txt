
WORK IN PROGRESS
================


+  fix cycles

+  fix double halls

+  fix street mode


-  tri_pillar


WAD Prefabs
-----------

+  simpler z_ranges : specify coordinate(s) which expands

   BUT: need to handle (1) expanding lifts so target height matches
                       (2) expanding Z to match a sky height

-  use x_ranges for wall/window prefabs (to scale 192 --> 256)

-  use y_range to make closets scale

-  create monster and item spots:
   +  review current spot system
   +  use the fab.spots table 

   >>>  have a 'ROOM' global, Fabricate() uses it

-  NO: ability to "pick" the sector at a point / edge / corner and get the height there

   YES: use tag numbers for "main floor", "neighbor floor" (etc)
        and can set that sector to a certain material (floor, floor2, etc)

        102 = south (main floor)
        108 = north (neighbor floor)
        104 = east
        106 = west



========================================================================


-  pick mini_halls at areas_handle_connections

+  sky spread algo
   (a) check 2 seeds away on each dir (i.e. through mini-halls)
   (b) handle caves too

+  re-think switches/locked_doors selection : USE GROUPS?



!!  Street mode : if one room surrounds another one, the "streets"
    between them are isolated from the rest, leading to this error:

      Script Error: Failed to find any height in grid neighbors

    --> detect this, make multiple rooms


- Psychedelic mode has a few issues. Exit signs / doors are
  replaced now where they weren't before, and the bars in
  monster cages are replaced by solid-looking walls. This
  makes it so you can't see what's inside them shooting at
  you, but they can clearly see you.

- make secrets more secret




>>>  add pillars (via. C.content.kind = "DECORATION"
                       C.content.decor_prefab = "Pillar_2")

>>>  add crates too (pick prefab from THEME.indoor_fabs)

>>>  add pits too (set C.floor_prefab = "Pit_Test")

>>>  fix chunk_is_mungeable()



-   for 'mon_along' calculation -- ideally take it out of
    the game specific code (can modify it via PARAM or THEME).


-  FAT_CAGE_PILLAR

+  x_repeat should be a skin thang

-  use 'pictures' in room themes, if exists

-  do mirroring in prefab space (only really need X)


+  Need logic to decide how to light up a room (windows vs wall
   lights vs ceilings lights etc).

-  separate (or at least mark) pictures that serve as main light
   sources for an area / room.  [QUAKE]

+  have "hallway arches", specified in hallway groups, used in
   indoor rooms where the hallway meets the room.


>>>  big_junction hallways : use 'mini_halls' instead of a hallway group

     also: some control over them
     (a) disable (or prefer) certain height diffs
     (b) disable doors (since big junction has a door there)
         [extends to doors at room/mini_hall connection]
     (c) can provide a skin with 'floor', 'wall' and/or 'ceil' materials
     (d) can specify other keywords which must be preset or absent in the skin


>>>  stairs / lift : standardize height stuff

     _elevation = "short" / "medium" / "tall" / "lift"

     z_ranges = { {128,0,"?height"}, ... }  in prefab to make it reach target height


+  mini hall room connection control:
      _outdoor = 0 / 1
      _building = 0 / 1
      _cave = 0 / 1

+  support height-changing mini-halls



+  fix monsters stuck in doors / corners of chunks


-----------------------------------------------------------------


>>  windows

>>  pictures in walls

>>  secret niches

-  normal doors  [c.f. mini-hall doors]

-  ceiling prefabs (esp. light fixtures)

-  floor prefabs (crates are great, cages are all the rage)

>>  better exits

-  liquid areas

