
WORK IN PROGRESS
================


>>>>  hall/curve_XX.wad  [fix big junction selection]
      make it taller

>> transition Doors (etc) to use Room_pick_skin()

DONE:  game / mod (etc) checks for matching_skins / groups


+  fix cycles

+  fix double halls

+  fix street mode


>>  find potential fat fences early, mark some of them to ensure
    the two neighbor rooms get sky sync'd 


>>  mark 1-section halls as "joiners"

>>  find joiners which touch two outdoor rooms, and sometimes
    ensure it gets a 'sky_group' field -- so all three are sync'd

-  review policy on "pegging"
   (a) rename "peg" --> "unpeg"
   (b) only honor it with explicit Y offset


DONE:  proper method to pick outdoor border prefabs

+  fix material chosen for borders and fake buildings

-  borders / fakers : support 'z_fit'

-  fake building and fences : support long ones, also deep ones

-  a way to prevent repeating the same prefab in a row


-  tri_pillar



Group System
------------

1.  have a GAME.GROUPS table

2.  each group has a 'kind' field, can be "hall", "border" (etc)

3.  groups have filtering keywords, e.g 'for_theme'

4.  for each level (or zone, etc) OBLIGE will pick a group for
    each context, e.g. ZONE.hall_group, LEVEL.border_group

5.  prefabs with a 'group' keyword (or table) are filtered (ignored)
    if none of the groups match.  The value multiplies the prob.



WAD Prefabs
-----------

-  lifts : ability to expand vertically so target height matches
   (something like z_fit ??) 

-  check that prefabs can add ITEM spots

-  support spots in prefabs for weapons and keys

-  column with heart/skull : place for a prefabbed switch or key

-  IDEA: ability to "pick" the sector at a point / edge / corner and get the height there

   OR : use tag numbers for "main floor", "neighbor floor" (etc)
        and can set that sector to a certain material (floor, floor2, etc)

        102 = south (main floor)
        108 = north (neighbor floor)
        104 = east
        106 = west



========================================================================


-  pick mini_halls at areas_handle_connections

+  sky spread algo
   (a) check 2 seeds away on each dir (i.e. through mini-halls)
   (b) handle caves too


!!  Street mode : if one room surrounds another one, the "streets"
    between them are isolated from the rest, leading to this error:

      Script Error: Failed to find any height in grid neighbors

    --> detect this, make multiple rooms


-  FAT_CAGE_PILLAR

+  x_repeat should be a skin thang

-  use 'pictures' in room themes, if exists

-  do mirroring in prefab space (only really need X)


+  Need logic to decide how to light up a room (windows vs wall
   lights vs ceilings lights etc).

-  separate (or at least mark) pictures that serve as main light
   sources for an area / room.  [QUAKE]

+  have "hallway arches", specified in hallway groups, used in
   indoor rooms where the hallway meets the room.


>>>  big_junction hallways : use 'mini_halls' instead of a hallway group

     also: some control over them
     (a) disable (or prefer) certain height diffs
     (b) disable doors (since big junction has a door there)
         [extends to doors at room/mini_hall connection]
     (c) can provide a skin with 'floor', 'wall' and/or 'ceil' materials
     (d) can specify other keywords which must be preset or absent in the skin


>>>  stairs / lift : standardize height stuff

     _elevation = "short" / "medium" / "tall" / "lift"

     z_ranges = { {128,0,"?height"}, ... }  in prefab to make it reach target height


+  mini hall room connection control:
      _outdoor = 0 / 1
      _building = 0 / 1
      _cave = 0 / 1

+  support height-changing mini-halls

