
WORK IN PROGRESS
================


V5 Layout:

DONE:  support "room" floors (have ceiling as part of them)

+  can we pick section exit portal AFTER building the prefab?

-  multi_match : give a table of reqs (not reqs1/2/3)

-  for floor / ceiling pieces (etc?) : have a "NONE" probability to match skin

-  support 'height' for outdoor floors

-  have 'complexity' for floors and ceilings : value is 1-3 (0 for plain)
   and their sum must not exceed 3.  default is 1

-  support 'anchor_dirs' : floor must have non-room on those sides

-  check we don't add walls if an edge is fence/solid ('#')

DONE:  implement 'edges' and simpler north/south/east/west 

DONE:  fallback floor/ceil : treat separate from normal floors

DONE  support all rotations

-  handle the 'max_floor' in skins


!!  get joiners working again

    +  make a keyed joiner (or three)
    +  make a switched joiner (or seven)


!!  fat fences not working??


+  Big junctions:
   -  EITHER make C/T/I versions of Spokey and Circle
        OR   create wall prefabs for them + logic to place it


+  mark used goal spots as unusable for mons/items

   -  have : Shrink_touching_spots(x1, y1, x2, y2)


!!  get cycles working again

    DONE:  update stair_flow() with 'cycle' parameter, use it do
       determine stair pieces (and skip some other logic).

    DONE:  handle 'cycle_excess' : create a step (if abs >= 12)
       (step should be at beginning for downward cycles)

    -  ensure 'is_joiner' is never set for cycles

    -  if a locked door is placed in a joiner, don't create cycles
       for it.


-  FAT_CAGE_PILLAR

