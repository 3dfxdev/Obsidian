
OBLIGE TODO
===========

Current Work
------------


>>>  big_junction hallways : use 'mini_halls' instead of a hallway group


>>>  stairs / lift : standardize height stuff

     _stair_kind = "short" / "medium" / "tall" / "lift"

     z_ranges = { {128,0,"?height"}, ... }  in prefab to make it reach target height


DONE:  Sky Halls: only build the floor bits in prefab -- do sky separately


++  think about how "mini halls" and "groups" interact

    --> groups only apply to connected hallways (2+ sections)
    
    --> mini_halls connect two rooms, or a room and big junction

    i.e. they are mutually exclusive


+  mini hall room connection control:
      _outdoor = 0 / 1
      _building = 0 / 1
      _cave = 0 / 1


Outdoor rooms: begin with whole space as "natural", create "constructed"
               intrusions into that space.


PATTERN AREA LOGIC:

??  allow the two area creation methods to co-exist, the grid system
    can take over after e.g. doing a bunch of try_XXX stuff.

-  sometimes with "PLAIN" fill, have two levels (two VHRs)
   require neighboring 2+ VHRS with a difference >= 2
   (or both in one seed).
 
?  support the "anchor" table



!!!  have 'z1_cap' and 'z2_cap' fields in a chunk, ensure all
     prefabs use it -- perhaps: Trans.set_cap(), Trans.clear_cap()

++  place importants AFTER deciding major areas, and do A* pathing
    separately for each area.

+  continue with unpatterned area logic:
   -  try_TWO_SIDE()
   -  try_THREE_SIDE()
   -  try_CORNER()
   -  try_EDGE()

?  put VOID in non-walk left-overs

-  when expanding a new area (A) which overlaps another (B), then
   have a kind of slow-down when A starts to overlap too much of B
   (especially when more than half of A is overlapping B).

?  try to surround a newly installed area with a new one
   with a VHR +/-1 from the previous.



-  REVIEW: quadratic monster formula : bad for "full" game


!!  replaceable brushes in prefabs

    +  use this mechanism to place windows and pictures


+  fix fat doors (x_ranges) : QUAKE


-----------------------------------------------------------------


Short-Term Goals
================


-  fix monsters stuck in doors / corners of chunks

+  automatic repeating of prefabs
   x_repeat=192 : means we require: x_size / N >= x_repeat (for highest N)

   allow it to happen with prefab composition too


-----------------------------------------------------------------


Release Goals
=============

>>  windows

   -  must decide after all heights are done

>>  pictures in walls

>>  secret niches

-  cages

-  normal doors

-  better ceilings, some ceiling lights

>>  better exits

Closets:
+  allow closet to be smaller than chunk, fill extra space with void

