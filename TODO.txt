
OBLIGE TODO
===========


-----------------------------------------------------------------


!!  REVIEW the 'mon_along' calculation, ideally take it out of
    the game specific code (can modify it via PARAM or THEME).


(3) 3D patterns in Quake:

    (a) have 'z1_cap' and 'z2_cap' fields in a chunk, ensure all
        prefabs use it -- perhaps: Trans.set_cap(), Trans.clear_cap()

        Problem: chunks may partially overlap!

        Solution: prevent chunks from spanning two "sub areas"
                  (sub areas have same floor height but different ceilings)


Issue with prefab composition? x/y/z_ranges of a child prefab is only
honored when it is inserted into the parent, NOT when the combined
prefab is inserted into the target space.


+  HEXEN and QUAKE : fix hallway lifts

-  FAT_CAGE_PILLAR

-  doors are walls, hence should be XYZ fitted

+  x_repeat should be a skin thang

-  use 'pictures' in room themes, if exists

-  do mirroring in prefab space (only really need X)


+  Need logic to decide how to light up a room (windows vs wall
   lights vs ceilings lights etc).

-  separate (or at least mark) pictures that serve as main light
   sources for an area / room.  [QUAKE]

Idea: GAME.SCOPED_VARS table which is like styles but (a) fields can
      be used in prefabs (b) a _scope field can be "zone", "level",
      "room", "episode" -- value remains constant over that scope.

+  have "hallway arches", specified in hallway groups, used in
   indoor rooms where the hallway meets the room.

-  prevent jumping over sky-hall sides (esp. QUAKE and HEXEN)


>>>  big_junction hallways : use 'mini_halls' instead of a hallway group

     also: some control over them
     (a) disable (or prefer) certain height diffs
     (b) disable doors (since big junction has a door there)
         [extends to doors at room/mini_hall connection]
     (c) can provide a skin with 'floor', 'wall' and/or 'ceil' materials
     (d) can specify other keywords which must be preset or absent in the skin


>>>  stairs / lift : standardize height stuff

     _elevation = "short" / "medium" / "tall" / "lift"

     z_ranges = { {128,0,"?height"}, ... }  in prefab to make it reach target height


+  mini hall room connection control:
      _outdoor = 0 / 1
      _building = 0 / 1
      _cave = 0 / 1

+  support height-changing mini-halls


3D Areas:

PATTERN LOGIC : skip patterns if (a) multiple levels,
                                 (b) 2+ chunks in that grid and all of them would
                                     end up in the same vhr
                              OR (b2) one chunk in grid but ends up at same vhr
                                      as all previously assigned chunks in room


+  fix monsters stuck in doors / corners of chunks


-----------------------------------------------------------------


>>  windows

>>  pictures in walls

>>  secret niches

-  normal doors  [c.f. mini-hall doors]

-  ceiling prefabs (esp. light fixtures)

-  floor prefabs (crates are great, cages are all the rage)

>>  better exits

-  liquid areas

Closets:
+  allow closet to be smaller than chunk, fill extra space with void

