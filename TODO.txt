
V4 TODO
=======

Current Work
------------

!!  improve placement of key/switch : NOT NEAR ENTRANCE

!!  fix items and monsters on fences / staircases

+  in a large (multi-section) room, if any section has no "events"
   (a connection or switch or key or major item) then give it a
   nice pickup item (etc) or at least a walk space.

+  implement "fence" rects in prefab neighborhoods.
   make sure they (a) don't split walk/nosplit (b) update heights
   (liquids too)

+  implement "nosplit" areas, which are like "walk" areas in that
   they must not be split, but which aren't considered to be
   player destinations.


!!  EDGE.max_deep = (width - 128) / 2   [Including any walk/air area]

    For 2  seed wide room, thickest door is  64 units + 64 walk
    For 3  seed wide room, thickest door is 160 units + 64 walk
    For 4+ seed wide room, thickest door is 256 units + 64 walk


///////////////////////

-  support floor prefabs in non-monotonic rooms

x  "thin wall fabs" which can be placed inside "fat wall fabs"
   (including corners).  

-  consider allowing "minor" wall prefabs to be decided during/after
   floor fabbing.  In particular to allow a floor prefab to supply
   a lift or staircase against the wall (in even in a corner),
   perhaps also for liquidy stuff.

DONE: allow more than one safe zone per floor

-  floor prefabs (ETC) should be as small as possible

-  Fabricate: remove "fab" parameter -- get name from skin

Note: allocated middlers (e.g. key pedestal) should not exist
      inside the safe zone.  If their section is small, just inhibit
      subdivision, if large then have upto 4 safe zones around it.

?  remove R.wall_space, merely collect the polygons and test them

Idea: "flush depth" of walls



Release Goals
-------------

Games:

DOOM and QUAKE only


Layout:

+  rooms with multiple layers

+  corner prefabs
       - normal
       - curved
       - big diagonal
       - torch in niche
       - jutting out torch 

+  wall prefabs:
       - cage
       - monster closet
       - secret closet
       - torch
       - picture
       - teleporter
       - item niche
 
+  middle prefabs:
       - cage
       - pillar
       - variety of crates
       - fountain (outdoor)
       - a couple techy ones

+  light brushes for DOOM, clipped to room:
   (a) have group of rectangles to clip to
   (b) clip light brush to each rectangle

+  get caves working again

-  Cross-Overs

-  small exits

-  proper system to match DOOR skins with SWITCH skins
   (allow more than a single door or single switch per lock kind)


Monsters:

+  automatic 'level' for monsters if value is missing

+  fix monster quantities (too many right now)

-  increase monster quantities and toughness over course of a
   level, with extra boost for KEY and EXIT rooms.

