
V4 TODO
=======

Current Work
------------

FLOOR STUFF

>> a less recursive algorithm, once we have decided the floor
   fab and where to place it, its heights are known and fixed.

   i.e. do heights on-the-fly instead of at the end.

   It should be close to entry walk, to leave room in the rest
   of the room for further floor fabs.


3D floors : FLOOR.z_low and z_high values

allow walks to appear in _multiple_ spaces, assign them round robin
(rand.shuffle walks earlier) ---> for 3D floors


!!!  clipping solid brushes to floor space

!!   "lava" brush kind

!!   "hole" brush kind, allow straddlers to use them too


+  implement "nosplit" areas, which are like "walk" areas in that
   they must not be split, but which aren't considered to be
   player destinations.

-  support floor prefabs in non-monotonic rooms
   -  connect monotonic spaces with walk brushes
      (make a fake straddler-like prefab)

   

WALL STUFF

!!  forget the "pick minimal, make bigger later " idea
    use room size to get a minimum and maximum size
    
-  fix inner/outer tex on door and window prefabs

-  flesh out "minor" walls _AFTER_ floor layouting
   split spans vertically

-  "flush depth" for wall prefabs, encourage/force nearby walls
   to line up with it.

!!  EDGE.max_deep = (width - 128) / 2   [Including any walk/air area]

    For 2  seed wide room, thickest door is  64 units + 64 walk
    For 3  seed wide room, thickest door is 160 units + 64 walk
    For 4+ seed wide room, thickest door is 256 units + 64 walk



OTHER STUFF

!!  u1..v2 for texture coords on brushes

!!  remove flavored brushes :-(
    (at least from the CSG code, do "hole" brushes for floor spaces
     and ceiling spaces)

-  in a large (multi-section) room, if any section has no "events"
   (a connection or switch or key or major item) then give it a
   nice pickup item (etc) or at least a walk space.



/////////////////////////////////////



Release Goals
-------------

Games:

DOOM and QUAKE only


Layout:

+  rooms with multiple layers

+  corner prefabs
       - normal
       - curved
       - big diagonal
       - torch in niche
       - jutting out torch 
       - picture

+  wall prefabs:
       - cage
       - monster closet
       - secret closet
       - torch
       - picture
       - teleporter
       - item niche
 
+  middle prefabs:
       - cage
       - pillar
       - crates
       - fountain (outdoor)
       - a couple techy ones

+  floor prefabs:
       - stairs
       - lift
       - L shape
       - U shape
       - bridge

+  light brushes for DOOM, clipped to room:
   (a) have group of rectangles to clip to
   (b) clip light brush to each rectangle

-  get caves working again

?  Cross-Overs

?  small exits

